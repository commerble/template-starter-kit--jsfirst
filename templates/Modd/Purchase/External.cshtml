@using System.Web
@{
  var order = Page.ViewData.Model as PurchaseOrder;
  var viewData = Page.ViewData[BasicController.ViewMessageKey] as ViewMessages;
}
<script id="pagedata" type="application/json">
  @Raw(Jil.JSON.Serialize(new{
    errors = viewData.Errors,
    messages = viewData.Messages,
    order = new {
      id = order.OrderId,
      total = order.TotalPayment,
    },
    action = "",
  }))
</script>